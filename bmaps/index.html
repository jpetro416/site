


    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/bootstrap-responsive.css" rel="stylesheet"/>
    <link href="css/base.css" rel="stylesheet"/>

    <script type="text/javascript" src="js/jquery.js"></script>
  <script> $183 = jQuery.noConflict();</script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
	
    <script type="text/javascript" src="js/raphael.js"></script>
    <script type="text/javascript" src="js/jquery.mousewheel.js"></script>
    <script type="text/javascript" src="js/mapsvg.min.js?v=5.5.4"></script>
    <script type="text/javascript" src="http://j.maxmind.com/app/geoip.js"></script>
    <script type="text/javascript">
        if(window.location.protocol=="file:"){
            $183(document).ready(function(){
              $183('#main-body').prepend('<div class="alert alert-error" style="margin-top: 20px;">SVG map files can\'t be loaded when HTML file is just opened from local folder - because JavaScript don\'t have access to files on your local machine. Please upload demo to server to see maps.</div>');
            });
        }
    </script>


<style>

</style>



    <script type="text/javascript">



           var currentLocation = [geoip_latitude(), geoip_longitude()];

           $183('#mapsvg-2').mapSvg({
                source:        'maps/world_with_states.svg',    // Path to SVG map
                colors: {stroke: '#aaaaaa', selected: -20, hover: 7},
                width: 1170,
                onClick: function(e,m){
                    if(this.node.id=='Mongolia') return;
                    var obj = this.mapsvg_type == 'region' ? '<b>'+this.node.id+'</b>' : 'a <b>marker</b>';
                    m.showPopover(e,'You clicked '+obj+' and this is a pop-up info box with close button. <br />You can put <ins>any</ins> <strong>HTML</strong> <em>tags</em> here. <br />Also it\'s useful for links: <a href="http://google.com" target="_blank">google.com</a>');

                    
                },
                marks:          [
                                    { c: currentLocation,
                                      attrs: {'src': 'markers/pin1_red.png'},
                                      tooltip: '<strong>You are here!</strong><br />'

                                            +geoip_city()+'<br />'
                                            +geoip_country_name()+'<br />'
                                            +'Coordinates: '+currentLocation
                                    },
                                    { c: [38.927099,-77.021713],
                                    attrs: {'src': 'markers/pin1_yellow.png'},
                                      tooltip: '<strong>Washington, DC</strong><br />This marker is set by latitude / longitude coordinates:<br />38.893438, -77.03167'
                                    },
                                    { c: [51.49763,-0.148315],
                                      attrs: {'src': 'markers/pin1_green.png'},
                                      tooltip: '<strong>London</strong><br />Coordinates: 51.49763, -0.148315'
                                    }
                                    ,
                                    { c: [33.504759,100.283203],
                                      attrs: {'src': 'markers/pin1_blue.png'},
                                      tooltip: '<strong>China</strong> is disabled for demonstration purpose -<br />so it isn\'t clickable or selectable.'
                                    }

                                 ],
                regions: {
                    Mexico: {
                                tooltip: 'You can set any colors and styles for any region.<br />',
                                attr:{fill: '#F3E4B2'}
                          },
                    Russia: {
                                tooltip: '<strong>Russia:</strong> Click here to see a popover box',
                                attr:{fill: '#FF9176'},
                                popover: 'This is info box with close button. <br />You can put <ins>any</ins> <strong>HTML</strong> <em>tags</em> here. <br />Also it\'s useful for links: <a href="http://google.com" target="_blank">google.com</a>'
                            },
                    China: {
                                disabled: true,
                                attr: {fill: '#F7D5BA'}
                           },
                    Mongolia: {
                                tooltip: '<strong>Mongolia:</strong> link to <em>google.com</em> is attached to this country. <br />Try to click! (link will open in new window).',
                                attr:{fill: '#A4DFA3', href: 'http://map/&t=1'}
                            },
                    Kazakhstan: {
                                tooltip: '<strong>Kazakhstan:</strong> tooltips can contain any HTML:<br /><img src="http://farm9.staticflickr.com/8162/7706013408_80a182713f_m.jpg"/>',
                                attr:{fill: '#F9DD7B'}
                            }
                },
                tooltipsMode:    'combined',
                zoom: 1,
                pan:1,
                responsive:1,
                zoomLimit: [-100,100]
            });

    </script>
<tbody>

<div id="location" data="location"></div>


 <div  style="cursor:pointer;" id="test"></div>
 <script>
//$183("#test").click(function() {
//alert(listObjects);
//alert( "Handler for .click() called." );
//});
  
 </script>
 <table style="width:600;max-width:600px;height:auto;border-collapse:collapse;bottom:5px;padding-bottom:0px" >
     <div class="row" style="overflow: hidden;">
<tr>
<th style="text-align:center;"><img style="text-align:center;padding:5px 5px 0 5px;width:auto;height:44px;float:middle;display:inline-block;" src="images/location.png"></th>
<th style="line-height:44px;font-family:'Roboto',sans-serif;font-size:11pt;color:#707070;">Select Region</th>

</tr>
<tr>
	 <td align="middle" valign="top" class="Sb" style="width:100px;float:top;">
	
			<div style="width:10 0px;padding-top:10px;font: 13px Roboto,arial,sans-serif;font-weight:semibold;color:#404040;
    visibility: visible;">
			<a style="cursor:pointer;" id="gobackregion">return to region</a>
			<a style="cursor:pointer;" id="gobackUSA">return to USA</a>
	</td>
	 <td style="60%;">

        <div class="span6">
              <div id="mapsvg-usa" style="width:90%;height:90%;min-height:  320px;min-width:500px;"></div>
        </div>
		        <div class="span6">
              <div id="mapsvg-region" style="width:90%;height:90%;min-height:  320px;min-width:500px;"></div>
        </div>
        <div class="span6" id="mapsvg-states">
              <div id="mapsvg-region" style="width:90%;height:90%;min-height:  320px;min-width:500px;"></div>
        </div>
	</td>

    <td>
    </div>
	</tr>
</table>
</tbody>
        <script type="text/javascript">
	$183(document).ready(function(){
 //   $183('#gobackregion').hide();	 
 //   $183('#gobackUSA').hide();	 
//	$183('#mapsvg-states').hide();  
	$183('#mapsvg-region').hide();  
	$183('#mapsvg-states').hide();  



 

});
 // the menu buttons
 
		var userzip = "<? echo $zipcode; ?>";
		//alert(userzip);
		if(userzip == 021254) {
		//alert('match');
		var userx = 50;
		var usery = 120;
		var pinpoint =  '/markers/pin1_yellow.png';
		} else {
		//		alert('no match');
		var userx = '';
		var usery = '';
		var pinpoint =  '';
		}
		
	
			
            $183('#mapsvg-usa').mapSvg({
			source: 'bmaps/maps/usa-labels.svg', width: 500, responsive: 1,
            colors: {background: 'transparent', base: "#E5E5E5", hover: "#BEBEBE", selected: "#A4DFA3", stroke: '#FFFFFF'},          
            zoomButtons: {show: true, location: 'right'},
			regions: {labels: {attr: {fill: '#939393'}}},
            zoom: 1,
            pan: 1,		
			marks:          [
                 { xy: [userx, usery], // x-y coodinates - works for all maps, including World Map
                   tooltip: 'This is London! Click to go to http://london.com',
                   attrs: {
                            href: 'http://yahoo.com',            // link
                            src: pinpoint    // image for marker
                           }
                 },
				                  { xy: [798, 327], // x-y coodinates - works for all maps, including World Map
                   tooltip: 'This is London! Click to go to http://london.com',
                   attrs: {
                            href: 'http://yahoo.com',            // link
                            src: pinpoint   // image for marker
                           }
                 }
                ],
            onClick: function(){

		     // show back to usa menu
			 $183('#gobackUSA').show();
			 // prepare dom
			 $183('#mapsvg-usa').hide();
			 $183('#mapsvg-region').show();
			 // prepare svg to load
             var file = this.name.toLowerCase()+'.svg';	        
					
					
					$183('#mapsvg-region').mapSvg({
                    source : '/bmaps/maps/'+file,
                    responsive: 1,
                    colors: {background: 'transparent', base: "#E5E5E5", hover: "#BEBEBE", selected: "#A4DFA3", stroke: '#FFFFFF'},          
                    width: $183('#mapsvg-region').width(),
              		regions: {labels: {attr: {fill: '#939393'}}},
                 	height: $183('#mapsvg-region').height(),
                    tooltipsMode: 'names',
                    zoomButtons: {show: true, location: 'right'},
                    zoom: 1,
                    pan: 1,
					onClick: function(){
					
					  // show back to usa  & region menus					
	                 $183('#gobackregion').show();
			    	 $183('#gobackUSA').show();
		        	 // prepare dom					 
				     $183('#mapsvg-region').hide();
					 $183('#mapsvg-states').show();
					 
	        		 // prepare svg to load and prepending 'usa-' to file name				 
					 file = 'usa-'+this.name.toLowerCase()+'.svg';

					$183('#mapsvg-states').mapSvg({
                    source : '/bmaps/maps/counties/'+file,
                    responsive: 1,
                    colors: {background: 'transparent', base: "#E5E5E5", hover: "#BEBEBE", selected: "#A4DFA3", stroke: '#FFFFFF'},          
                    width: $183('#mapsvg-states').width(),
              		regions: {labels: {attr: {fill: '#939393'}}},
                 	height: $183('#mapsvg-states').height(),
                    tooltipsMode: 'names',
                    zoomButtons: {show: true, location: 'right'},
                    zoom: 1,
                    pan: 1
               });		
			}
		});        
	}
});
            
            
            
            





        </script>
     <pre id="js-code" style="display: none;">
var currentLocation = [geoip_latitude(), geoip_longitude()];

$('#mapsvg-usa-northeast').mapSvg({

    source:        'maps/usa-northeast.svg',    // Path to SVG map
    colors: {base: '#cccccc', stroke: '#aaaaaa', selected: 10},
    tooltipsMode: 'combined',
    zoom: true,
    pan: true,
    responsive: true,
    width: 500,
    zoomLimit: [0,100],

    onClick: function(e,m){
        if(this.node.id=='Mongolia') return;
        var obj = this.mapsvg_type == 'region' ? '&lt;b&gt;'+this.node.id+'&lt;/b&gt;' : 'a &lt;b&gt;marker&lt;/b&gt;';
        m.showPopover(e,'You clicked '+obj+' and this is a pop-up info box with close button. &lt;br /&gt;You can put &lt;ins&gt;any&lt;/ins&gt; &lt;strong&gt;HTML&lt;/strong&gt; &lt;em&gt;tags&lt;/em&gt; here. &lt;br /&gt;Also it\'s useful for links: &lt;a href="http://google.com" target="_blank"&gt;google.com&lt;/a&gt;');
    },

    marks:          [
                        { c: currentLocation,
                          attrs: {'src': 'markers/pin1_red.png'},
                          tooltip: '&lt;strong&gt;You are here!&lt;/strong&gt;&lt;br /&gt;'

                                +geoip_city()+'&lt;br /&gt;'
                                +geoip_country_name()+'&lt;br /&gt;'
                                +'Coordinates: '+currentLocation
                        },
                        { c: [38.893438,-77.03167],
                        attrs: {'src': 'markers/pin1_yellow.png'},
                          tooltip: '&lt;strong&gt;Washington, DC&lt;/strong&gt;&lt;br /&gt;This marker is set by latitude / longitude coordinates:&lt;br /&gt;38.893438, -77.03167'
                        },
                        { c: [51.49763,-0.148315],
                          attrs: {'src': 'markers/pin1_green.png'},
                          tooltip: '&lt;strong&gt;London&lt;/strong&gt;&lt;br /&gt;Coordinates: 51.49763, -0.148315'
                        }
                        ,
                        { c: [33.504759,100.283203],
                          attrs: {'src': 'markers/pin1_blue.png'},
                          tooltip: '&lt;strong&gt;China&lt;/strong&gt; is disabled for demonstration purpose -&lt;br /&gt;so it isn't clickable or selectable.'
                        }

                     ],
    regions: {
        USA: {
                    tooltip: '&lt;strong&gt;USA:&lt;/strong&gt; As you can see, you can paint regions in any colors.&lt;br /&gt;',
                    attr:{fill: '#F3E4B2'}
              }

    }
});

</pre>
        <script type="text/javascript">


            $183('#maplinks a').on('click', function(e){
               e.preventDefault();
               var file = $183(this).attr('data-svg');


               if($183('#mapsvg-other').find('svg').length){
                $183('#mapsvg-other').empty().mapSvg().destroy();
               }

               $183('#mapsvg-other').mapSvg({
                    source : 'maps/'+file,
                    responsive: 1,
                    width: $183('#mapsvg-other-cont').width(),
                    height: $183('#mapsvg-other-cont').height(),
                    tooltipsMode: 'names',
                    zoomButtons: {show: true, location: 'left'},
                    zoom: 1,
                    pan: 1
               });

            });

        </script>
        <br /><br />





<script type="text/javascript">


    $('#maplinks a').on('click', function(e){
       e.preventDefault();
       var file = $(this).attr('data-svg');


       if($('#mapsvg-other').find('svg').length){
        $('#mapsvg-other').empty().mapSvg().destroy();
       }

       $('#mapsvg-other').mapSvg({
            source : 'maps/'+file,
            responsive: 1,
            colors: {base: '#cccccc', stroke: "#999999", selected: 9, hover: 5},
            regions: {labels: {attr: {fill: '#555555'}}},
            width: $('#mapsvg-other-cont').width(),
            tooltipsMode: 'names',
            zoomButtons: {show: true, location: 'left'},
            zoom: 1,
            pan: 1
       });

    });

</script>


</div>


